<div class="success-page-container">
    <div class="success-page-content">
        <!--<app-payment-successfully></app-payment-successfully>
        <p class="success-page-title">{{'SUCCESS.title' | translate}}</p>-->
        <mat-horizontal-stepper [linear]="isLinear" #stepper>
            <ng-template matStepperIcon="local_shipping">
                <mat-icon>local_shipping</mat-icon>
            </ng-template>
            <ng-template matStepperIcon="contact_phone">
                <mat-icon>contact_phone</mat-icon>
            </ng-template>
            <ng-template matStepperIcon="print">
                <mat-icon>print</mat-icon>
            </ng-template>
            <ng-template matStepperIcon="shopping_cart">
                <mat-icon>shopping_cart</mat-icon>
            </ng-template>

            <mat-step class="step-form" label="Datos de entrega" state="shipping">
                <div class="address-container">
                    <div *ngIf="userAddresses.length == 0" class="address-container-empty">
                        <img src="/assets/logos/empty_address.png" alt="">
                    </div>
                    <mat-card (click)="selectAddress(address)"
                        [ngClass]="{'main-card-profile-adrress-card': !address.selected, 'main-card-profile-adrress-card-blue': address.selected }"
                        *ngFor="let address of userAddresses">
                        <mat-icon>location_on</mat-icon>
                        <p>{{address.country}}, {{address.city}}, {{address.state}}, {{address.locality}}</p>
                        <p>{{'ADDRESS.postalCode' | translate}}: {{address.zip}}</p>
                        <p>{{address.internalNumber}}, {{address.externalNumber}}</p>
                    </mat-card>
                    <div class="example-button-container">
                        <a (click)="newAddress()" mat-fab extended routerLink=".">
                            <mat-icon>add</mat-icon>
                            {{'PROFILE.add-location' | translate}}
                        </a>
                    </div>
                </div>
                <div class="button-container">
                    <button [disabled]="!addressSelected" mat-flat-button color="primary" type="button"
                        matStepperNext>Siguiente</button>
                </div>
            </mat-step>
            <mat-step class="step-form" label="Datos de contacto" state="contact">
                <div class="contact-form-container">
                    <p class="contact-form-title">Datos de contacto del receptor</p>
                    <form [formGroup]="contactForm" class="contact-form">
                        <mat-form-field class="contact-form-field" appearance="outline">
                            <mat-label>Nombre completo</mat-label>
                            <input matInput type="text" formControlName="fullName"
                                placeholder="Ingrese el nombre completo">
                            <mat-error *ngIf="contactForm.get('fullName').hasError('required')">
                                Nombre completo es obligatorio
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="contact-form-field" appearance="outline">
                            <mat-label>Telefono</mat-label>
                            <input matInput type="tel" formControlName="phone"
                                placeholder="Ingresa el numero de telefono">
                            <mat-error *ngIf="contactForm.get('phone').hasError('required')">
                                El telefono es obligatorio
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="contact-form-field" appearance="outline">
                            <mat-label>Correo electronico</mat-label>
                            <input matInput type="email" formControlName="email"
                                placeholder="Ingrese el correo electronico">
                            <mat-error *ngIf="contactForm.get('email').hasError('required')">
                                El correo electrónico es obligatorio.
                            </mat-error>
                            <mat-error *ngIf="contactForm.get('email').hasError('pattern')">
                                Ingresa un correo electrónico válido.
                            </mat-error>
                        </mat-form-field>
                    </form>
                </div>
                <div class="button-container">
                    <button mat-flat-button color="primary" type="button" matStepperPrevious>Atras</button>
                    <button [disabled]="!contactForm.valid" mat-flat-button color="primary" type="button">Siguiente</button>
                </div>
            </mat-step>
        </mat-horizontal-stepper>
    </div>
</div>